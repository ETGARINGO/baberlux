<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>KOF | Book Your Cut</title>
    <style>
        :root {
            --gold: #d4af37;
            --bg-dark: rgba(8, 8, 10, 0.9);
        }
        body {
            margin: 0; font-family: 'Segoe UI', sans-serif;
            color: white; overflow-x: hidden;
            display: flex; flex-direction: column; align-items: center;
        }

        /* Video Background */
        .v-bg {
            position: fixed; top: 0; left: 0; width: 100%; height: 100%;
            z-index: -2; overflow: hidden; background: #000;
        }
        .v-bg iframe {
            width: 100vw; height: 100vh; transform: scale(1.6);
        }

        /* Booking Container */
        .container {
            background: var(--bg-dark);
            backdrop-filter: blur(10px);
            width: 90%; max-width: 400px;
            margin: 20px auto; padding: 25px;
            border-radius: 20px; border: 1px solid rgba(212, 175, 55, 0.3);
            text-align: center; box-shadow: 0 10px 30px rgba(0,0,0,0.5);
        }

        h2 { color: var(--gold); text-transform: uppercase; letter-spacing: 2px; margin-top: 0; }
        
        input, select {
            width: 100%; padding: 12px; margin: 10px 0;
            background: #111; border: 1px solid #333; border-radius: 8px;
            color: white; box-sizing: border-box; font-size: 1rem;
        }

        .btn-book {
            width: 100%; padding: 15px; margin-top: 10px;
            background: linear-gradient(135deg, #d4af37, #8b6d05);
            border: none; border-radius: 8px; color: black;
            font-weight: 800; cursor: pointer; text-transform: uppercase;
        }

        /* Info Section */
        .info-card {
            background: rgba(255,255,255,0.05);
            border-radius: 12px; padding: 15px; margin-top: 20px;
            font-size: 0.8rem; text-align: left; line-height: 1.6;
        }
        .info-card strong { color: var(--gold); display: block; margin-top: 5px; }

        .btn-link {
            display: inline-block; width: 45%; padding: 10px; margin: 5px 2%;
            background: #222; color: white; text-decoration: none;
            border-radius: 5px; text-align: center; font-size: 0.75rem;
            border: 1px solid #444; transition: 0.3s;
        }
        .btn-link:hover { border-color: var(--gold); color: var(--gold); }
    </style>
</head>
<body>

    <div class="v-bg">
        <iframe src="https://www.facebook.com/plugins/video.php?height=476&href=https%3A%2F%2Fwww.facebook.com%2Freel%2F1511247623312332%2F&show_text=0&width=267" 
        frameborder="0" allowfullscreen="true" allow="autoplay"></iframe>
    </div>

    <div class="container">
        <h2>Book Your Cut</h2>
        
        <input id="name" placeholder="Full Name">
        <input id="phone" placeholder="Phone Number" type="tel">
        <select id="package">
            <option value="" disabled selected>Select Service Package</option>
        </select>
        
        <button class="btn-book" onclick="book()">Confirm Booking</button>

        <div class="info-card">
            <strong>üìç Address:</strong>
            Blk 4, Lot 18 Congressional Ave, Brgy San Miguel II, Dasmari√±as, Cavite
            
            <strong>üìß Email:</strong>
            Kingoffadezph@gmail.com

            <strong>üîó Social Links:</strong>
            <div style="margin-top:10px; text-align:center;">
                <a href="https://www.google.com/maps/place/King+of+Fadez+Barbershop+Dasmari%C3%B1as/@14.3381712,120.9504125,1140m/data=!3m2!1e3!4b1!4m6!3m5!1s0x3397d5002d69d999:0xbe2b03eacebc8da8!8m2!3d14.3381712!4d120.9504125!16s%2Fg%2F11zkr2tsqv?hl=en&entry=ttu&g_ep=EgoyMDI2MDExMy4wIKXMDSoASAFQAw%3D%3D" class="btn-link" target="_blank">üó∫Ô∏è Open Maps</a>
                <a href="http://Kingoffadezph.com/" class="btn-link" target="_blank">üåê Website</a>
                <a href="https://www.tiktok.com/@kingoffadez.ph" class="btn-link" target="_blank">üì± TikTok</a>
                <a href="https://facebook.com/KingOfFadezDasma" class="btn-link" target="_blank">FB Page</a>
            </div>
        </div>
    </div>

<script>
const API="https://script.google.com/macros/s/AKfycbzeVWLFNnLdZmBzr3RWX4qyNMnt4sSjgZveDZ69NoRGEvtYV0PWfoSf8FOKzJziQAoCTQ/exec";
const pkgSelect = document.getElementById('package');

// Fetch Packages
fetch(API+"?mode=data")
    .then(r=>r.json())
    .then(d=>{
        d.packages.slice(1).forEach(p=>{
            const opt = document.createElement('option');
            opt.textContent = p[0];
            opt.value = p[0];
            pkgSelect.appendChild(opt);
        });
    });

function book(){
    const name = document.getElementById('name').value;
    const phone = document.getElementById('phone').value;
    const pkg = pkgSelect.value;

    if(!name || !phone || !pkg) {
        alert("Please fill in all details");
        return;
    }

    fetch(API,{
        method:"POST",
        mode: "no-cors", // Required for some Apps Script setups
        body:JSON.stringify({
            name: name, 
            phone: phone,
            package: pkg, 
            addons:[], 
            total:0
        })
    });
    
    alert("Booking Sent! See you at King of Fadez.");
    document.getElementById('name').value = "";
    document.getElementById('phone').value = "";
}
</script>

</body>
</html>
